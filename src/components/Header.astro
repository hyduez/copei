---
import { Astronav, MenuItems, MenuIcon } from 'astro-navbar';
import { Image } from 'astro:assets';
import BIBIMBAP from '../assets/bibimbap.svg';
import HeaderLink from './HeaderLink.astro';
---

<header class="sticky top-0 z-50 w-full bg-white shadow-sm">
    <Astronav 
        class:list={[
            "border-b border-gray-200"
        ]}
    >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
            
            <div class="lg:flex lg:justify-between lg:items-center">

                <div class="flex justify-between items-center h-16 w-full lg:w-auto z-50 relative bg-white"> 
                    
                    <a href="/" class="group flex items-center gap-2 cursor-pointer no-underline select-none">
                        <div class="flex items-center transform transition-transform duration-300 group-hover:scale-110">
                            <Image src={BIBIMBAP} alt="Bibimbap" width={30} />
                        </div>
                        <span class="text-xl tracking-tight font-bold">
                            <span class="text-green-600">Healthy</span>
                            <span class="text-gray-400"> vs </span>
                            <span class="text-orange-600">Junk</span>
                        </span>
                    </a>
                    
                    <div class="block lg:hidden">
                        <div class="p-2 rounded-md hover:bg-gray-100 transition-colors duration-200 cursor-pointer active:scale-95">
                            <MenuIcon class="w-6 h-6 text-gray-800" />
                        </div>
                    </div>
                </div>

                <MenuItems class="hidden lg:flex w-full lg:w-auto -z-10 lg:z-auto"> 
                    
                    <ul class="bg-white absolute top-16 left-0 w-full border-b border-gray-200 shadow-xl p-4 flex flex-col gap-2 transform origin-top animate-in fade-in slide-in-from-top-5 duration-300 lg:static lg:w-auto lg:border-none lg:shadow-none lg:p-0 lg:flex-row lg:gap-8 lg:bg-transparent lg:items-center">
                        
                        <li class="w-full lg:w-auto">
                            <div class="menu-item-wrapper">
                                <HeaderLink href="/">Home</HeaderLink>
                            </div>
                        </li>

                        <li class="w-full lg:w-auto">
                            <div class="menu-item-wrapper">
                                <HeaderLink href="/articles">Articles</HeaderLink>
                            </div>
                        </li>

                        <li class="w-full lg:w-auto">
                            <div class="menu-item-wrapper">
                                <HeaderLink href="/about">About</HeaderLink>
                            </div>
                        </li>

                    </ul>
                </MenuItems>

            </div>
        </div>
    </Astronav>
</header>

<style>
    @media (max-width: 1023px) {
        .menu-item-wrapper :global(a) {
            display: block;
            width: 100%;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
        }
        
        .menu-item-wrapper :global(a:hover) {
            background-color: #f3f4f6;
            transform: translateX(4px);
        }

        .menu-item-wrapper :global(a.active) {
            background-color: #f0fdf4;
            color: #16a34a !important;
        }

        ul {
            animation: menuSlideIn 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
    }

    @keyframes menuSlideIn {
        from {
            opacity: 0;
            transform: translateY(-8px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>